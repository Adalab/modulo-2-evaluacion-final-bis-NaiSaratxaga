{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst url = `https://randomuser.me/api/?results=10`;\nconst usersListElement = document.querySelector('.js_list');\nconst buttonSave = document.querySelector('.js_buttonSave');\nconst buttonRecover = document.querySelector('.js_buttonRecover');\n\nlet users = [];\n\nfunction paintHTML(users) {\n  usersListElement.innerHTML = ''; // quitar elementos antiguos y poner nuevos//\n  for (const user of users) {\n    const friendClassName = user.isFriend ? 'isFriend' : '';\n    const li = `<li class=\"js_listUser ${friendClassName}\" id=\"${user.login.uuid}\">\n      <div class=\"image\" >\n        <img src=\"${user.picture.medium}\" alt=\"contact picture\" title=\"contact picture\"/> \n      </div>\n      <div class=\"name\">\n        ${user.name.first} ${user.name.last} \n      </div>\n      <div class=\"city\">\n        ${user.location.city} \n      </div>\n      <div class=\"userName\">\n        ${user.login.username} \n      </div>\n    </li>`;\n    usersListElement.innerHTML += li;\n    subscribe();\n  }\n}\n\nfunction subscribe() {\n  const listElements = document.querySelectorAll('.js_listUser');\n  listElements.forEach((listElement) => {\n    listElement.addEventListener('click', handleClickUser);\n  });\n}\n\nfetch(url)\n  .then((response) => response.json())\n  .then((data) => {\n    users = data.results;\n    paintHTML(users);\n  });\n\n//-----PUNTO 2----//\n//en el objeto del usuario clickado dentro del array, aÃ±adir una propiedad *//\n\n//tengo que marcar al usuario del listado como amigo, isFriend : true//\n//si es mi amigo se pinta de rosa, si no lo es no lo pinto de rosa.\n\nfunction handleClickUser(event) {\n  event.preventDefault();\n  const currentTarget = event.currentTarget;\n  const userIdToMarkAsFriend = currentTarget.id;\n  // Obtener el objeto de los user con ese id\n  const userToMarkAsFriend = users.find((user) => {\n    return user.login.uuid === userIdToMarkAsFriend;\n  });\n  // incluir en ese objeto la propiedad isFriend : true\n  userToMarkAsFriend.isFriend = true;\n  // meterle la clase isFriend al element apuntado como current target\n  currentTarget.classList.add('isFriend');\n}\n\n//-----PUNTO 3----//\n/* guardar/recuperar de local Local Storage / GET Y SET*/\n\nfunction saveUsers() {\n  localStorage.setItem('users', JSON.stringify(users));\n}\n\nfunction loadUsers() {\n  const usersString = localStorage.getItem('users');\n  users = JSON.parse(usersString);\n  paintHTML(users);\n}\n\nbuttonSave.addEventListener('click', saveUsers);\nbuttonRecover.addEventListener('click', loadUsers);\n"]}